.PHONY: test debug release

RULESET := $(firstword $(wildcard osu.Game.Rulesets.*))

test:
	dotnet run --project $(RULESET).Tests

debug release:
	cd $(RULESET) && \
	dotnet publish -c $@ && \
	cp bin/$@/*/publish/$(notdir $(RULESET)).dll ~/.local/share/osu/rulesets/$(notdir $(RULESET)).dll

clean:
  rm -f ~/.local/share/osu/rulesets/*
